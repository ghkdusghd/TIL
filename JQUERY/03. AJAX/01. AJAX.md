# 01. AJAX

> ë¹„ë™ê¸°ë¡œ ì„œë²„ì™€ í†µì‹ í•˜ê³  json, xml, html, text ë“±ì˜ ê°’ì„ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆë‹¤. ì‰½ê²Œ ë§í•´ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í•˜ì§€ ì•Šì•„ë„ ì„œë²„ì™€ì˜ í†µì‹ ì„ í†µí•´ ê°’ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.

### ğŸŒ± Spring MVC ì—ì„œ ì‚¬ìš© (ì˜ˆì‹œ)

- home.jsp ì—ì„œ ë¹„ë™ê¸°ë¡œ ê²Œì‹œíŒ CRUD ì‘ì—…ì„ í•˜ë ¤ê³  í•¨.

- ì‚¬ìš©ìê°€ [ìˆ˜ì •] ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ onclick = "goUpdate(ê¸€ë²ˆí˜¸)" í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.

- ê¸€ë²ˆí˜¸(idx), ì œëª©(title), ë‚´ìš©(content)ì„ AJAX ë¡œ ì „ë‹¬í•˜ê³ ,

- ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ Board ê°ì²´ì— ë‹´ì•„ì„œ BoardMapper ì˜ update ì¿¼ë¦¬ë¬¸ì„ ì‹¤í–‰í•œë‹¤.

#### 1ï¸âƒ£ AJAX

```javascript
function goUpdate(idx) {
  let title = $("#nt" + idx).val();
  let updateData = $("#ta" + idx).val();

  $.ajax({
    url: "boardUpdate",
    //í•´ë‹¹ urlë¡œ ì „ë‹¬í•œë‹¤.
    type: "post",
    //HTTP ë©”ì„œë“œë¥¼ ì§€ì •
    data: {
      idx: idx,
      title: title,
      content: updateData,
    },
    //ì „ë‹¬í•  ë°ì´í„°ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì ëŠ”ë‹¤.
    success: loadBoard,
    //ì „ë‹¬ ì„±ê³µí•œ ê²½ìš° í˜¸ì¶œí•  í•¨ìˆ˜.
    error: function () {
      alert("error");
    },
    //ì‹¤íŒ¨í•œ ê²½ìš° í˜¸ì¶œí•  í•¨ìˆ˜.
  });
}
```

#### 2ï¸âƒ£ Controller

```java
    @ResponseBody
	@RequestMapping("/boardUpdate")
	public void boardUpdate(Board vo) {
        // @ModelAttribute ê°€ ìƒëµë˜ì–´ ìˆë‹¤.
        // AJAXì—ì„œ ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ Boardê°ì²´ì— ì €ì¥í•œë‹¤.
		boardMapper.boardUpdate(vo);
	}
```

#### 3ï¸âƒ£ BoardMapper.xml

```xml
  <update id="boardUpdate" parameterType="kr.bit.entity.Board">
     update bitboard set title=#{title}, content=#{content}
     where idx=#{idx}
  </update>
```
